# =========================================================================
# [EN] Deuteron beam track from fixed upstream position
# [CN] 氘束轨迹从固定上游位置发射
# =========================================================================
# Field: B=1.20T
# Deuteron start: (0, 0, -4000 mm)
# =========================================================================

/vis/open OGLIQt 1280x720

/samurai/geometry/Target/Position 0 0 -400 cm
/samurai/geometry/Target/Angle 0 deg

/control/execute /home/tian/workspace/dpol/smsimulator5.5/configs/simulation/DbeamTest/detailMag1to1.2T/geometry_B120T.mac

/action/file/OverWrite y
/action/file/RunName deuteron_B120T_380MeV
/action/file/SaveDirectory /home/tian/workspace/dpol/smsimulator5.5/configs/simulation/DbeamTest/detailMag1to1.2T/deuteron_output

/vis/drawVolume
/vis/viewer/set/upVector 1 0 0
/vis/viewer/set/viewpointThetaPhi 90. 90.
/vis/scene/add/axes 0 0 0 6000 mm

/vis/scene/add/trajectories smooth
/vis/modeling/trajectories/create/drawByCharge
/vis/modeling/trajectories/drawByCharge-0/default/setDrawStepPts true
/vis/modeling/trajectories/drawByCharge-0/default/setStepPtsSize 2
/vis/scene/endOfEventAction accumulate

/vis/viewer/set/autoRefresh false
/vis/verbose warnings

/action/gun/Type Pencil
/action/gun/SetBeamParticleName deuteron
/action/gun/Position 0 0 -4000 mm
/action/gun/AngleY 0 deg
/action/gun/Energy 380 MeV
/run/beamOn 1

/vis/viewer/set/autoRefresh true
/vis/viewer/refresh
/vis/viewer/update

/vis/ogl/export /home/tian/workspace/dpol/smsimulator5.5/configs/simulation/DbeamTest/detailMag1to1.2T/deuteron_output/deuteron_B120T_380MeV.png
