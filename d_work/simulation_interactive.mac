# 交互式可视化配置文件 - 仅初始化，不自动运行事件

# 设置可视化
/vis/open OGL

# 输出文件设置
/action/file/OverWrite y
/action/file/RunName d+Pb208E190g050xyz_np_sametime_vis
/action/file/SaveDirectory output_tree/

# 加载几何体
/control/execute geometry/5deg_1.2T.mac

# 设置视角 (Z-X view)
/vis/viewer/set/upVector 1 0 0
/vis/viewer/set/viewpointThetaPhi 90. 90.

# 绘制几何体
/vis/drawVolume

# 添加坐标轴
/vis/scene/add/axes 0 0 0 6000 mm

# 设置轨迹显示
/vis/scene/endOfEventAction accumulate
/vis/scene/add/trajectories smooth
/vis/modeling/trajectories/create/drawByCharge
/vis/modeling/trajectories/drawByCharge-0/default/setDrawStepPts true
/vis/modeling/trajectories/drawByCharge-0/default/setStepPtsSize 1

# 设置粒子轨迹颜色
/vis/modeling/trajectories/drawByCharge-0/set 1 red    # 质子 - 红色
/vis/modeling/trajectories/drawByCharge-0/set 0 blue   # 中子 - 蓝色
/vis/modeling/trajectories/drawByCharge-0/set -1 green # 负电荷 - 绿色

# 启用轨迹存储
/tracking/storeTrajectory 1

# 设置输入源
/action/gun/Type Tree
/action/gun/tree/InputFileName /home/tbt/workspace/dpol/smsimulator5.5/d_work/rootfiles/d+Pb208E190g050xyz/dbreakb01.root
/action/gun/tree/TreeName tree

# 设置自动刷新
/vis/viewer/set/autoRefresh true
/vis/verbose warnings

# 提示用户手动运行事件
# 用户可以在交互模式下输入:
#/run/beamOn 1 
#/action/gun/tree/beamOn 20
